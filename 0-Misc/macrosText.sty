% ----------------------------------------------------------------------
% Thesis specifics
% ----------------------------------------------------------------------
% Chapter 4
\newcommand{\MLPL}{\texttt{FCN/List}\xspace}
\newcommand{\CNNG}{\texttt{CNN/Grid}\xspace}
\newcommand{\EgoAtt}{\texttt{Ego-Attention}\xspace}

% Chapter 5
\newcommand{\ov}{\overline}
\newcommand{\oa}{\ov{a}}
\newcommand{\ox}{\ov{x}}
\newcommand{\oz}{\ov{z}}
\newcommand{\oy}{\ov{y}}
\newcommand{\os}{\ov{s}}
\newcommand{\FTQ}{\gls{FTQ}\xspace}
\newcommand{\FTQl}{\gls{FTQ}$(\lambda)$\xspace}
\newcommand{\BFTQ}{{\hyperref[alg:bftq]{\gls{BFTQ}}}\xspace}

% Chapter 6
\newcommand{\Tau}{\mathcal{T}}
\newcommand{\LL}{\mathcal{L}}
\newcommand{\dquad}{d_\texttt{QUAD}}
\newcommand{\dber}{d_\texttt{BER}}
\newcommand{\diff}[1]{\textcolor{darkgreen}{#1}}

\newcommand{\OLOP}{{\hyperref[alg:kl-olop]{\gls*{OLOP}}}\xspace}
\newcommand{\OPD}{{\hyperref[alg:opd]{\gls*{OPD}}}\xspace}
\newcommand{\KLOLOP}{{\hyperref[alg:kl-olop]{\gls*{KLOLOP}}}\xspace}

\newcommand{\GBOPD}{{\hyperref[alg:gbop-d]{\texttt{GBOP-D}}}\xspace}
\newcommand{\GBOP}{{\hyperref[alg:gbop]{\texttt{GBOP}}}\xspace}
\newcommand{\MDPGapE}{\texttt{MDP-GapE}\xspace}
\newcommand{\inte}[1]{\mathring{#1}}
\newcommand{\ext}[1]{{\partial #1}}
\DeclareMathOperator{\KL}{KL}
\DeclareMathOperator{\kl}{kl}
\DeclareMathOperator{\Ber}{\mathcal{B}er}
\newcommand{\hp}{\widehat{p}}
\newcommand{\hmu}{\widehat{\mu}}

\definecolor{darkspringgreen}{rgb}{0.09, 0.45, 0.27}
\definecolor{cadmiumgreen}{rgb}{0.0, 0.42, 0.24}
\newcommand{\hlr}[1]{\textcolor{Red}{#1}}
\newcommand{\hlb}[1]{\textcolor{Blue}{#1}}
\newcommand{\hlg}[1]{\textcolor{cadmiumgreen}{#1}}
\newcommand{\hlo}[1]{\textcolor{Orange}{#1}}
\newcommand{\hlrb}[1]{\bm{\textcolor{Red}{#1}}}
\newcommand{\hlbb}[1]{\bm{\textcolor{Blue}{#1}}}
\newcommand{\hlgb}[1]{\bm{\textcolor{cadmiumgreen}{#1}}}
\newcommand{\hlob}[1]{\bm{\textcolor{Orange}{#1}}}

% Chapter 7
\newcommand{\OurAlgorithm}{\texttt{Robust-EPC}}
\newcommand{\ux}{\underline{x}}
\newcommand{\bom}{\bm{\omega}}
\providecommand{\examplename}{Example}
\theoremstyle{definition}
\newtheorem*{example*}{\protect\examplename}

% Chapter A
\newcommand{\highwayenv}{\hyperref[chapter:a]{\textsc{highway-env}}\xspace}

% ----------------------------------------------------------------------
% Useful text commands
\def\linethickness{0.4pt}
\newcommand{\hr}{\begin{center}\rule{0.5\linewidth}{\linethickness}\end{center}}

\providecommand{\tightlist}{\setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}

\newcommand{\abstractStartChapter}{%
	% \paragraph{Abstract.}%
	% \paragraph{}%
	\indent%
}
\newcommand{\minitocStartChapter}{%
	\vfill{}% WARNING vfill before minitoc?
	\minitoc%
	\vfill{}% WARNING vfill before minitoc?
	\newpage%
}
\newcommand{\minitocStartChapterNoNewPage}{%
	\vfill{}% WARNING vfill before minitoc?
	\minitoc%
	\vfill{}% WARNING vfill before minitoc?
	% \newpage%
}
% ----------------------------------------------------------------------

% Abbreviations, to ensure they have dots and are not written ie, eg, cf, iid
\newcommand{\ie}{\emph{i.e.}\xspace}
\newcommand{\eg}{\emph{e.g.}\xspace}
\newcommand{\cf}{\emph{cf}\xspace}
%\newcommand{\iid}{\emph{i.i.d.}\xspace}
\newcommand{\iid}{\gls{iid}\xspace}
\newcommand{\vs}{\emph{vs.}\xspace}
\newcommand{\etc}{\emph{etc.}\xspace}
% ----------------------------------------------------------------------

% Generic maths
\newcommand\norm[1]{\left\lVert#1\right\rVert}
\DeclareMathOperator*{\argmin}{arg\,min}
\DeclareMathOperator*{\argmax}{arg\,max}
\DeclarePairedDelimiter{\ceil}{\lceil}{\rceil}
\DeclarePairedDelimiter{\floor}{\lfloor}{\rfloor}
\DeclarePairedDelimiterX{\inp}[2]{\langle}{\rangle}{#1, #2}
\DeclarePairedDelimiter{\parentheses}{\lparen}{\rparen}
\newcommand{\limInf}{\underline{\lim}}
\newcommand{\e}{\mathrm{e}}
\newcommand{\eps}{\varepsilon}
\renewcommand{\epsilon}{\varepsilon}
% \renewcommand{\log}{\ensuremath{\ln}}
\newcommand{\dd}{\mathrm{d}}
% ----------------------------------------------------------------------

% Maths operators
\newcommand{\bigO}[1]{\ensuremath{\mathop{}\mathopen{}\mathcal{O}\mathopen{}\left(#1\right)}}
\newcommand{\smallO}[1]{\ensuremath{\mathop{}\mathopen{}o\mathopen{}\left(#1\right)}}
\def\eqdef{\mathrel{\ensurestackMath{\stackon[1pt]{=}{\scriptscriptstyle\Delta}}}}

% TODO: pick one
\newcommand{\transp}{\mathsf{\scriptscriptstyle T}}
\global\long\def\tr{^{\top}}
% ----------------------------------------------------------------------

% Probability Shorthands
\def\ind{\mathds{1}}
%\newcommand{\normal}[2]{\mathcal{N}\left(#1,#2\right)}
\newcommand{\BetaD}[2]{\text{Beta}\left(#1,#2 \right)}
\newcommand{\muhat}{\hat{\mu}}
\newcommand{\E}{\mathbb{E}}
\renewcommand{\Pr}{\mathbb{P}}
\newcommand{\indic}{\mathbbm{1}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Statistic operators      %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\probability}[1]{\mathbb{P}\left(#1\right)}
\newcommand{\probdist}{Pr}
\DeclareMathOperator*{\expectedvalue}{\mathbb{E}}
\DeclareMathOperator*{\variance}{\text{Var}}
\newcommand{\expectedvalueover}[1]{\expectedvalue\limits_{#1}}
\newcommand{\condbar}{\;\middle|\;}
\newcommand{\gaussdistr}{\mathcal{N}}
\newcommand{\uniformdistr}{\mathcal{U}}
\newcommand{\bernoullidist}{\mathcal{B}}

% ----------------------------------------------------------------------
% Calligraphic Shorthands
% bf and bm missing due to conflict!!
\newcommand{\bsym}[1]{\mathbf{#1}}
\newcommand{\bzero}{\mathbf{0}}
\newcommand{\ba}{\mathbf{a}}
\newcommand{\bb}{\mathbf{b}}
\newcommand{\bc}{\mathbf{c}}
\newcommand{\bd}{\mathbf{d}}
\newcommand{\be}{\mathbf{e}}
\newcommand{\bg}{\mathbf{g}}
\newcommand{\bh}{\mathbf{h}}
\newcommand{\bi}{\mathbf{i}}
\newcommand{\bj}{\mathbf{j}}
\newcommand{\bk}{\mathbf{k}}
\newcommand{\bl}{\mathbf{l}}
\newcommand{\bn}{\mathbf{n}}
%\newcommand{\bo}{\mathbf{o}}
\newcommand{\bp}{\mathbf{p}}
\newcommand{\bq}{\mathbf{q}}
\newcommand{\br}{\mathbf{r}}
\newcommand{\bs}{\mathbf{s}}
\newcommand{\bt}{\mathbf{t}}
\newcommand{\bu}{\mathbf{u}}
\newcommand{\bv}{\mathbf{v}}
\newcommand{\bw}{\mathbf{w}}
\newcommand{\bx}{\mathbf{x}}
\newcommand{\by}{\mathbf{y}}
\newcommand{\bz}{\mathbf{z}}

\newcommand{\bA}{\mathbf{A}}
\newcommand{\bB}{\mathbf{B}}
\newcommand{\bC}{\mathbf{C}}
\newcommand{\bD}{\mathbf{D}}
\newcommand{\bE}{\mathbf{E}}
\newcommand{\bF}{\mathbf{F}}
\newcommand{\bG}{\mathbf{G}}
\newcommand{\bH}{\mathbf{H}}
\newcommand{\bI}{\mathbf{I}}
\newcommand{\bJ}{\mathbf{J}}
\newcommand{\bK}{\mathbf{K}}
\newcommand{\bL}{\mathbf{L}}
\newcommand{\bM}{\mathbf{M}}
\newcommand{\bN}{\mathbf{N}}
\newcommand{\bO}{\mathbf{O}}
\newcommand{\bP}{\mathbf{P}}
\newcommand{\bQ}{\mathbf{Q}}
\newcommand{\bR}{\mathbf{R}}
\newcommand{\bS}{\mathbf{S}}
\newcommand{\bT}{\mathbf{T}}
\newcommand{\bU}{\mathbf{U}}
\newcommand{\bV}{\mathbf{V}}
\newcommand{\bW}{\mathbf{W}}
\newcommand{\bX}{\mathbf{X}}
\newcommand{\bY}{\mathbf{Y}}
\newcommand{\bZ}{\mathbf{Z}}

% Calligraphic
%\newcommand{\cA}{\mathcal{A}}
\newcommand{\cB}{\mathcal{B}}
\newcommand{\cC}{\mathcal{C}}
%\newcommand{\cD}{\mathcal{D}}
\newcommand{\cE}{\mathcal{E}}
\newcommand{\cF}{\mathcal{F}}
\newcommand{\cG}{\mathcal{G}}
\newcommand{\cH}{\mathcal{H}}
\newcommand{\cI}{\mathcal{I}}
\newcommand{\cJ}{\mathcal{J}}
\newcommand{\cK}{\mathcal{K}}
\newcommand{\cL}{\mathcal{L}}
%\newcommand{\cM}{\mathcal{M}}
\newcommand{\cN}{\mathcal{N}}
\newcommand{\cO}{\mathcal{O}}
\newcommand{\cP}{\mathcal{P}}
\newcommand{\cQ}{\mathcal{Q}}
\newcommand{\cR}{\mathcal{R}}
%\newcommand{\cS}{\mathcal{S}}
\newcommand{\cT}{\mathcal{T}}
\newcommand{\cU}{\mathcal{U}}
\newcommand{\cV}{\mathcal{V}}
\newcommand{\cW}{\mathcal{W}}
\newcommand{\cX}{\mathcal{X}}
\newcommand{\cY}{\mathcal{Y}}
\newcommand{\cZ}{\mathcal{Z}}
% ----------------------------------------------------------------------

% Blackboard Bold Shorthands
\newcommand{\Real}{\mathbb{R}}
\newcommand{\Natural}{\mathbb{N}}
\newcommand{\statespace}{\mathcal{X}}
\newcommand{\funcspace}{\mathcal{F}}
\newcommand{\dynaspace}{\mathcal{T}}
% ----------------------------------------------------------------------


% Misc Math Operations Shorthands
% \newcommand{\argmin}[1]{\underset{#1}{\text{argmin }}}
% \newcommand{\argmax}[1]{\underset{#1}{\text{argmax }}}
\newcommand{\ngoesto}{\underset{n\rightarrow \infty}{\rightarrow}}
\newcommand{\Tgoesto}{\underset{T\rightarrow \infty}{\longrightarrow}}
\newcommand{\isequT}{\underset{T\rightarrow \infty}{\sim}}
% ----------------------------------------------------------------------

% https://tex.stackexchange.com/a/7045/97964
\newcommand*\circled[1]{\tikz[baseline=(char.base)]{
    \node[shape=circle,draw,inner sep=2pt] (char) {#1};}%
}
% https://tex.stackexchange.com/a/204897/97964
\newcommand*\boldcircled[1]{\tikz[baseline=(char.base)]{
    \node[shape=circle,draw,line width=0.75mm,inner sep=2pt] (char) {#1};}%
}

% ----------------------------------------------------------------------
% TODO: use mdframed instead, to better handle page breaks?
% A better leftbar env with colors! Default is black http://tex.stackexchange.com/a/22530/97964
\definecolor{darkgray}{rgb}{0.15,0.15,0.15}   % Define a new color rgb(38, 38, 38)
\definecolor{lightgray}{rgb}{0.95,0.95,0.95}  % Define a new color rgb(239, 239, 239)
\definecolor{lightlightgray}{rgb}{0.97,0.97,0.97}  % Define a new color rgb(247, 247, 247)
% use it inside a theorem/lemma/... with thereombar/lemmabar/... color

% FIXME mettre la barre à gauche pour les pages paires et à droites pour les pages impaires ?
\renewenvironment{leftbar}[1][black]{%
    \def\FrameCommand{%
        {\color{#1}\vrule width 0.75pt}%
        \hspace{0pt}%must no space.
        \fboxsep=\FrameSep\colorbox{lightgray}%
    }%
    \vspace*{-2pt}%  % XXX Experimental ! It works fine like this, I like it!
    \MakeFramed{\hsize\hsize\advance\hsize-\width\FrameRestore}%
    % \vspace*{-3pt}%  % XXX Experimental ! It works fine like this, I like it!
}{%
    % \vspace*{-30}%  % XXX Experimental ! It works fine like this, I like it!
    \endMakeFramed%
    % \vspace*{-20pt}%  % XXX Experimental ! It works fine like this, I like it!
}
\newenvironment{leftbarnospace}[1][black]{%
    \def\FrameCommand{%
        {\color{#1}\vrule width 0.75pt}%
        \hspace{0pt}%must no space.
        \fboxsep=\FrameSep\colorbox{lightgray}%
    }%
    \vspace*{-2pt}%  % XXX Experimental ! It works fine like this, I like it!
    \MakeFramed{\hsize\hsize\advance\hsize-\width\FrameRestore}%
    % \vspace*{-3pt}%  % XXX Experimental ! It works fine like this, I like it!
}{%
    % \vspace*{-30}%  % XXX Experimental ! It works fine like this, I like it!
    \endMakeFramed%
    % \vspace*{-20pt}%  % XXX Experimental ! It works fine like this, I like it!
}
\newenvironment{lightleftbar}[1][black]{%
    \def\FrameCommand{%
        {\color{#1}\vrule width 0.75pt}%
        \hspace{0pt}%must no space.
        \fboxsep=\FrameSep\colorbox{lightlightgray}%
    }%
    \vspace*{-2pt}%  % XXX Experimental ! It works fine like this, I like it!
    \MakeFramed{\hsize\hsize\advance\hsize-\width\FrameRestore}%
    % \vspace*{-3pt}%  % XXX Experimental ! It works fine like this, I like it!
}{%
    \vspace*{-30pt}%  % XXX Experimental ! It works fine like this, I like it!
    \endMakeFramed%
    % \vspace*{-20pt}%  % XXX Experimental ! It works fine like this, I like it!
}
\newenvironment{whiteleftbar}[1][black]{%
    \def\FrameCommand{%
        {\color{#1}\vrule width 0.75pt}%
        \hspace{0pt}%must no space.
        \fboxsep=\FrameSep\colorbox{white}%
    }%
    \vspace*{-2pt}%  % XXX Experimental ! It works fine like this, I like it!
    \MakeFramed{\hsize\hsize\advance\hsize-\width\FrameRestore}%
    % \vspace*{-3pt}%  % XXX Experimental ! It works fine like this, I like it!
}{%
    \vspace*{-30pt}%  % XXX Experimental ! It works fine like this, I like it!
    \endMakeFramed%
    % \vspace*{-20pt}%  % XXX Experimental ! It works fine like this, I like it!
}

% Define colors for the theorem/defb/prop/.. left bar
\definecolor{defnbar}{HTML}{1f77b4}             % Define a new color rgb(0,0,242)
\definecolor{assumptionbar}{HTML}{d62728}       % Define a new color rgb(235,200,0)
\definecolor{lemmabar}{HTML}{e377c2}            % Define a new color rgb(255,0,198)
\definecolor{propositionbar}{HTML}{ff7f0e}      % Define a new color rgb(147,0,255)
\definecolor{propertybar}{HTML}{ff7f0e}         % Define a new color rgb(255,255,0)
\definecolor{theorembar}{HTML}{2ca02c}          % Define a new color rgb(0,242,0)
\definecolor{corollarybar}{rgb}{0,242,242}      % Define a new color rgb(0,242,242)
\definecolor{remarkbar}{HTML}{7f7f7f}           % Define a new color rgb(255,135,0)
\definecolor{warningbar}{rgb}{229,0,0}          % Define a new color rgb(229,0,0)
\definecolor{examplebar}{rgb}{0,0,0}            % Define a new color rgb(0,0,0)
\definecolor{proofbar}{rgb}{0,70,0}             % Define a new color rgb(0,70,0)
\definecolor{tablebar}{rgb}{147,0,255}          % Define a new color rgb(147,0,255)
% ----------------------------------------------------------------------

% FIXME just remove the small...small if I want normalsize proofs
\newenvironment{smallproof}{%
    % \begin{small}%
    \begin{proof}%
    % \leftskip=0.25cm\rightskip=0.25cm%  Cf. https://tex.stackexchange.com/a/62056/97964
}{%
    \end{proof}%
    % \end{small}%
}



% ----------------------------------------------------------------------
\makeatletter
% Thanks to https://tex.stackexchange.com/a/53691/
\newcommand{\mytag}[2]{%
    \text{#1}%
    \@bsphack
    \begingroup
        \@onelevel@sanitize\@currentlabelname
        \edef\@currentlabelname{%
        \expandafter\strip@period\@currentlabelname\relax.\relax\@@@%
        }%
        \protected@write\@auxout{}{%
        \string\newlabel{#2}{%
            {#1}%
            {\thepage}%
            {\@currentlabelname}%
            {\@currentHref}{}%
        }%
        }%
    \endgroup
    \@esphack
}
\makeatother
% ----------------------------------------------------------------------
